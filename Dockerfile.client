# Use an official Python runtime as the base image
FROM python:3.12-slim

# Set the working directory in the container
WORKDIR /app

# Copy the client Python script and entrypoint script into the container
COPY client.py /app/client.py
COPY entrypoint.sh /app/entrypoint.sh

# Make the entrypoint script executable
RUN chmod +x /app/entrypoint.sh

# Expose port 8080 for the client to listen on
EXPOSE 8080

# Use the entrypoint script to run the client
ENTRYPOINT ["/app/entrypoint.sh"]